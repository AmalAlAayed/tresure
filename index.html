<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>لعبة الكنز</title>

    <!-- خط عربي جميل -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            transition: all 0.5s;
            overflow-x: hidden;
        }

        /* خلفيات صفحات */
        #welcome-screen,
        #quiz-container,
        #password-container {
            min-height: 100vh;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 20px;
            padding-top: 40px;
        }

        #welcome-screen {
            background: linear-gradient(rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.3)),
                url("map.png") no-repeat center center;
            background-size: cover;
        }

        #quiz-container {
            background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)),
                url("mmap.png") no-repeat center center;
            background-size: cover;
            display: none;
        }

        #password-container {
            background: linear-gradient(rgba(19, 64, 160, 0.1), rgba(0, 0, 0, 0.2)),
                url("ser.png") no-repeat center center;
            background-size: cover;
            display: none;
        }

        .container {
            width: 100%;
            max-width: 100%;
            margin: 0;
            padding: 0;
        }

        .welcome-card,
        .question-card,
        .password-card {
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            width: 90%;
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
        }

        .welcome-card {
            background-color: rgba(97, 36, 36, 0.05);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .question-card {
            background-color: rgba(255, 255, 255, 0.7);
        }

        .password-card {
            background-color: rgba(255, 255, 255, 0.09);
        }

        h1 {
            font-family: 'Cairo', sans-serif;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .welcome-title {
            font-size: 1.8em;
            color: #6b3b10;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .welcome-message {
            font-size: 1em;
            margin-bottom: 20px;
            line-height: 1.5;
            color: #333;
        }

        .start-btn,
        .submit-btn,
        .restart-btn,
        .show-all-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .start-btn {
            background: #a5c6cd;
            color: #134955;
            margin-top: 15px;
            width: 80%;
            max-width: 200px;
        }

        .start-btn:hover {
            background: #cfe2e6;
            transform: scale(1.05);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }

        .submit-btn {
            background: #cb9b69;
            color: white;
            width: 100%;
            max-width: 200px;
            margin: 0 auto;
            display: block;
        }

        .submit-btn:hover {
            background: #ca7a42;
            transform: translateY(-3px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }

        .restart-btn {
            background: #7ea356;
            color: white;
            margin-top: 15px;
            width: 80%;
            max-width: 200px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .restart-btn:hover {
            background: #8bb163;
            transform: translateY(-3px);
        }

        .show-all-btn {
            background: #f0b070;
            color: white;
            width: 80%;
            max-width: 300px;
            margin: 0 auto;
            display: block;
            margin-top: 20px;
        }

        .show-all-btn:hover {
            background: #ebb988;
            transform: translateY(-3px);
        }

        .question-text {
            font-size: 1.2em;
            margin-bottom: 20px;
            color: #2c3e50;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        .answer-input {
            width: 100%;
            padding: 12px 15px;
            font-size: 1em;
            border: 2px solid #7ea356;
            border-radius: 8px;
            margin-bottom: 15px;
            transition: all 0.3s;
            background-color: rgba(255, 255, 255, 0.09);
            box-sizing: border-box;
        }

        .answer-input:focus {
            border-color: #7ea356;
            box-shadow: 0 0 10px rgba(41, 128, 185, 0.5);
            outline: none;
            background-color: rgba(248, 242, 242, 0.02);
        }

        .feedback {
            font-size: 1em;
            font-weight: bold;
            margin: 15px 0;
            min-height: 30px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }

        .correct {
            color: #27ae60;
            background-color: rgba(39, 174, 96, 0.15);
            border: 1px solid rgba(39, 174, 96, 0.3);
        }

        .incorrect {
            color: #e74c3c;
            background-color: rgba(231, 76, 60, 0.15);
            border: 1px solid rgba(231, 76, 60, 0.3);
        }

        .hint {
            color: #81550f;
            font-style: italic;
            margin: 15px 0;
            padding: 10px;
            background-color: rgba(243, 156, 18, 0.15);
            border-radius: 5px;
            border: 1px solid rgba(243, 156, 18, 0.3);
            text-align: center;
            display: block;
        }

        /* Progress Bar */
        .progress-bar-container {
            width: 100%;
            height: 15px;
            background-color: rgba(200, 200, 200, 0.4);
            border-radius: 10px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #27ae60, #2ecc71);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* تأثيرات الحركة */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- صفحة الترحيب -->
        <div id="welcome-screen" class="fade-in">
            <div class="welcome-card">
                <h1 class="welcome-title">مرحباً بكم في لعبة الكنز!🏴‍☠️</h1>
                <div class="welcome-message">
                    <p>لعبة نسترجع فيها الماضي والذكريات!</p>
                    <p>لعبة بسيطة صنعت بكل حب ❤️</p>
                </div>
                <button class="start-btn" id="start-btn">ابدأ اللعبة</button>
            </div>
        </div>

        <!-- قسم الأسئلة -->
        <div id="quiz-container">
            <div class="question-card fade-in">
                <div class="question-text" id="question">السؤال يظهر هنا</div>
                <div class="hint" id="hint-display"></div>
                <input type="text" class="answer-input" id="user-answer" placeholder="اكتب إجابتك هنا...">
                <button class="submit-btn" id="submit-btn">إرسال الإجابة</button>
                <div class="feedback" id="feedback"></div>

                <!-- شريط التقدم -->
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
            </div>
        </div>

        <!-- قسم كلمة السر -->
        <div id="password-container">
            <div class="password-card fade-in">
                <div class="question-text">أدخل كلمة السر للمتابعة: 🗝️</div>
                <input type="text" class="answer-input" id="password-input" placeholder="كلمة السر هنا...">
                <button class="submit-btn" id="password-submit-btn">تحقق</button>
                <div class="feedback" id="password-feedback"></div>
                <div class="hint" id="password-hint"></div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            { question: "ما هو الكائن الوحيد الذي يستطيع النوم على ظهره؟", correctAnswer: "الإنسان", hint: " (حرف الألف )قد شفتوه" },
            { question: "ما هو الشيء الذي إذا أردته أغمضت عينيك له؟", correctAnswer: "النوم", hint: "حرف النون" },
            { question: "ما هي الدابة المعقود في نواصيها الخير إلى يوم القيامة؟", correctAnswer: "الخيل", hint: "حرف الخاء" },
            { question: "ما هو الموت الأسود؟", correctAnswer: "الطاعون", hint: "حرف الطاء" },
            { question: "تراه داخل البيت وخارجه؟", correctAnswer: "الباب", hint: "حرف الباء" },
            { question: "ما اسم السورة التي ابتدأت باسم ثمرتين؟", correctAnswer: "التين", hint: "حرف التاء" }
        ];

        const passwords = ["إن", "ودع", "مرتحل", "هريرة", "الركب", "ودع هريرة إن الركب مرتحل"];

        let currentQuestionIndex = 0;
        let score = 0;
        let currentPasswordIndex = 0;

        function displayQuestion() {
            const questionElement = document.getElementById('question');
            const hintDisplayElement = document.getElementById('hint-display');
            const userAnswerElement = document.getElementById('user-answer');
            const progressBar = document.getElementById('progress-bar');

            questionElement.textContent = questions[currentQuestionIndex].question;
            hintDisplayElement.textContent = `تلميح: ${questions[currentQuestionIndex].hint}`;
            userAnswerElement.value = '';
            userAnswerElement.focus();
            document.getElementById('feedback').textContent = '';

            // تحديث progress bar
            const progressPercent = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = progressPercent + "%";
        }

        function checkAnswer() {
            const userAnswer = document.getElementById('user-answer').value.trim();
            const feedbackElement = document.getElementById('feedback');
            const correctAnswer = questions[currentQuestionIndex].correctAnswer;

            if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                feedbackElement.textContent = "إجابة صحيحة! ✓";
                feedbackElement.className = "feedback correct";
                score++;

                setTimeout(() => { showPasswordScreen(); }, 1000);
            } else {
                feedbackElement.textContent = "إجابة خاطئة! حاول مرة أخرى";
                feedbackElement.className = "feedback incorrect";
                document.getElementById('user-answer').focus();
            }
        }

        function showPasswordScreen() {
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('password-container').style.display = 'flex';

            const passwordHints = [
                "ابحثوا عن الكلمة في ملتقى الأخوات حيث الحديث عن الشغالات",
                "ابحثوا عن الكلمة في الملتقى الرائد بوجود القائد الوالد",
                "ابحثوا عن الكلمة في موضع الأطباق حيث فيها المواعين التي لا تطاق",
                "ابحثوا عن الكلمة في ملتقى الأطفال حيث اللعب و الصراخ والهبال",
                "ابحثوا عن الكلمة في ملتقى البنات حيث السعادة والضحكات",
                "رتبوا الكلمات الفريدة لتكون جملة مفيدة"
            ];

            document.getElementById('password-hint').textContent = `تلميح: ${passwordHints[currentPasswordIndex]}`;
            document.getElementById('password-input').value = '';
            document.getElementById('password-input').focus();
            document.getElementById('password-feedback').textContent = '';
        }

        function checkPassword() {
            const userPassword = document.getElementById('password-input').value.trim();
            const feedbackElement = document.getElementById('password-feedback');
            const correctPassword = passwords[currentPasswordIndex];

            if (userPassword.toLowerCase() === correctPassword.toLowerCase()) {
                feedbackElement.textContent = "كلمة السر صحيحة! ✓";
                feedbackElement.className = "feedback correct";

                setTimeout(() => {
                    currentPasswordIndex++;
                    currentQuestionIndex++;
                    document.getElementById('password-container').style.display = 'none';

                    if (currentQuestionIndex < questions.length) {
                        document.getElementById('quiz-container').style.display = 'flex';
                        displayQuestion();
                    } else {
                        endQuiz();
                    }
                }, 1000);
            } else {
                feedbackElement.textContent = "كلمة السر خاطئة! حاول مرة أخرى";
                feedbackElement.className = "feedback incorrect";
                document.getElementById('password-input').focus();
            }
        }

        function endQuiz() {
            const quizContainer = document.getElementById('quiz-container');
            quizContainer.style.background = "linear-gradient(rgba(0, 0, 0, 0.02), rgba(0, 0, 0, 0.02)), url('tre.png') no-repeat center center";
            quizContainer.style.backgroundSize = "cover";

            quizContainer.innerHTML = `
                <div class="question-card fade-in" style="background-color: rgba(255, 255, 255, 0.8);">
                    <h2>تهانينا! لقد وجدتم الكنز! 🏆</h2>
                    <div class="score-container">
                        درجتك النهائية: ${score} من ${questions.length}
                    </div>
                    <p>ارجعوا إلى الملتقى حيث نلتقي بالكنز</p>
                    <button class="restart-btn" onclick="restartQuiz()">العب مرة أخرى</button>
                    <button class="show-all-btn" onclick="showAllQuestions()">عرض جميع الأسئلة والتلميحات</button>
                </div>
            `;
            document.getElementById('quiz-container').style.display = 'flex';
            document.getElementById('password-container').style.display = 'none';
        }

        function showAllQuestions() {
            const quizContainer = document.getElementById('quiz-container');
            let questionsHTML = `
                <div class="question-card fade-in" style="background-color: rgba(255, 255, 255, 0.8);">
                    <h2>جميع الأسئلة والتلميحات</h2>
                    <div class="questions-list">
            `;
            questions.forEach((q, index) => {
                questionsHTML += `
                    <div class="question-item">
                        <h3>السؤال ${index + 1}:</h3>
                        <p><strong>${q.question}</strong></p>
                        <p><em>الجواب الصحيح: ${q.correctAnswer}</em></p>
                        <p class="hint">${q.hint}</p>
                    </div>
                `;
            });
            questionsHTML += `
                    </div>
                    <button class="restart-btn" onclick="restartQuiz()">العب مرة أخرى</button>
                </div>
            `;
            quizContainer.innerHTML = questionsHTML;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            currentPasswordIndex = 0;
            location.reload(); // أبسط طريقة لإعادة تعيين كل العناصر
        }

        document.getElementById('start-btn').addEventListener('click', function () {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'flex';
            displayQuestion();
        });

        document.getElementById('submit-btn').addEventListener('click', checkAnswer);
        document.getElementById('password-submit-btn').addEventListener('click', checkPassword);

        document.getElementById('user-answer').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') checkAnswer();
        });

        document.getElementById('password-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') checkPassword();
        });
    </script>
</body>

</html>


